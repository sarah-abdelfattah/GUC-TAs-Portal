[{"/mnt/d/My small Projects/milestone-1-team51/client/src/index.js":"1","/mnt/d/My small Projects/milestone-1-team51/client/src/reportWebVitals.js":"2","/mnt/d/My small Projects/milestone-1-team51/client/src/App.js":"3","/mnt/d/My small Projects/milestone-1-team51/client/src/pages/Login.jsx":"4","/mnt/d/My small Projects/milestone-1-team51/client/src/helpers/setAuthToken.js":"5","/mnt/d/My small Projects/milestone-1-team51/client/src/helpers/constants.js":"6","/mnt/d/My small Projects/milestone-1-team51/client/src/pages/UnauthorizedPage.jsx":"7","/mnt/d/My small Projects/milestone-1-team51/client/src/components/NavBar.jsx":"8","/mnt/d/My small Projects/milestone-1-team51/client/src/components/SideBar.jsx":"9","/mnt/d/My small Projects/milestone-1-team51/client/src/pages/HOD/ViewAllStaff.jsx":"10"},{"size":266,"mtime":1609336465411,"results":"11","hashOfConfig":"12"},{"size":362,"mtime":1609336465413,"results":"13","hashOfConfig":"12"},{"size":2118,"mtime":1609541015302,"results":"14","hashOfConfig":"12"},{"size":3288,"mtime":1609538350766,"results":"15","hashOfConfig":"12"},{"size":246,"mtime":1609507753631,"results":"16","hashOfConfig":"12"},{"size":177,"mtime":1609336465408,"results":"17","hashOfConfig":"12"},{"size":679,"mtime":1609336489312,"results":"18","hashOfConfig":"12"},{"size":672,"mtime":1609507753629,"results":"19","hashOfConfig":"12"},{"size":918,"mtime":1609507753630,"results":"20","hashOfConfig":"12"},{"size":1623,"mtime":1609541378647,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"1ortn9s",{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"24"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/mnt/d/My small Projects/milestone-1-team51/client/src/index.js",[],["44","45"],"/mnt/d/My small Projects/milestone-1-team51/client/src/reportWebVitals.js",[],"/mnt/d/My small Projects/milestone-1-team51/client/src/App.js",[],"/mnt/d/My small Projects/milestone-1-team51/client/src/pages/Login.jsx",["46"],"import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport setAuthToken from '../helpers/setAuthToken';\r\nimport { link } from '../helpers/constants';\r\nimport { useToasts } from 'react-toast-notifications'\r\n\r\nfunction Login() {\r\n\t// defining the variables and states\r\n\tconst [gucId, setId] = useState(\"\");\r\n\tconst [password, setPassword] = useState(\"\");\r\n\tconst [user, setUser] = useState();\r\n\tconst { addToast } = useToasts();\r\n\r\n\t// => used in the header to greet the user <=\r\n    var date = new Date();\r\n    var hrs = date.getHours();\r\n    var greet;\r\n\r\n    if (hrs < 12)\r\n       greet = 'Good Morning'\r\n    else if (hrs >=12 && hrs <=16)\r\n       greet = 'Good Afternoon'\r\n    else if (hrs >=17 && hrs <=24)\r\n\t   greet = 'Good Evening';\r\n\t//-------------------------------------------\r\n\r\n\t// get the token of the user to be used later\r\n\tuseEffect(() => {\r\n\t\tconst loggedInUser = localStorage.getItem(\"user\");\r\n\t\tif (loggedInUser) {\r\n\t\t  document.location.href = '/home'  \r\n\t\t}\r\n\t}, []);\r\n\r\n\t\r\n\tconst handleSubmit = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tconst user = { gucId, password };\r\n\t\tif(gucId === \"\" || password === \"\"){\r\n\t\t\taddToast(\"Please enter your GUC ID and Password\", {appearance: 'warning',autoDismiss: true});\r\n\t\t}\r\n\t\telse{\r\n\t\t\ttry{\r\n\t\t\t\tconst response = await axios.post(`${link}/logIn`, user);\r\n\t\t\t\tconsole.log(response);\r\n\t\t\t\tif(response.data.err){\r\n\t\t\t\t\taddToast(response.data.err, {appearance: 'warning',autoDismiss: true});\r\n\t\t\t\t}\r\n\t\t\t\telse if(response.data.JOI_validation_error){\r\n\t\t\t\t\taddToast(response.data.JOI_validation_error, {appearance: 'warning',autoDismiss: true});\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tsetUser(response.data.token);\r\n\t\t\t\t\t// store the user token in the localStorage\r\n\t\t\t\t\tconst token = response.data.token\r\n\t\t\t\t\tlocalStorage.setItem('user', token);\r\n\t\t\t\t\tsetAuthToken(token);\r\n\t\t\t\t\t// go to the home page after login is successful\r\n\t\t\t\t\tdocument.location.href = '/home'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcatch (err) {\r\n\t\t\t\taddToast(\"wrong Id or password\", {appearance: 'warning',autoDismiss: true});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"container-login100\">\r\n\t\t\t<div className=\"wrap-login100 p-l-55 p-r-55 p-t-80 p-b-30\">\r\n\t\t\t\t<form onSubmit={handleSubmit} className=\"login100-form validate-form\">\r\n\t\t\t\t\t<span className=\"login100-form-title p-b-37\">\r\n\t\t\t\t\t\t{greet}âœ¨\r\n\t\t\t\t\t</span>\r\n\r\n\t\t\t\t\t<div className=\"wrap-input100 validate-input m-b-20\" data-validate=\"Please enter your GUC ID\">\r\n\t\t\t\t\t\t<input \r\n\t\t\t\t\t\tvalue={gucId}\r\n\t\t\t\t\t\tclassName=\"input100\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"guc id \"\r\n\t\t\t\t\t\tonChange = {({ target }) => setId(target.value)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<span className=\"focus-input100\"></span>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"wrap-input100 validate-input m-b-25\" data-validate = \"Please enter your password\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\tclassName=\"input100\" \r\n\t\t\t\t\t\ttype=\"password\" \r\n\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\tplaceholder=\"password\"\r\n\t\t\t\t\t\tonChange={({ target }) => setPassword(target.value)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<span className=\"focus-input100\"></span>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"container-login100-form-btn\">\r\n\t\t\t\t\t\t<button type=\"submit\" className=\"login100-form-btn\">\r\n\t\t\t\t\t\t\tLogin In\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default Login","/mnt/d/My small Projects/milestone-1-team51/client/src/helpers/setAuthToken.js",[],"/mnt/d/My small Projects/milestone-1-team51/client/src/helpers/constants.js",[],"/mnt/d/My small Projects/milestone-1-team51/client/src/pages/UnauthorizedPage.jsx",[],"/mnt/d/My small Projects/milestone-1-team51/client/src/components/NavBar.jsx",[],"/mnt/d/My small Projects/milestone-1-team51/client/src/components/SideBar.jsx",[],"/mnt/d/My small Projects/milestone-1-team51/client/src/pages/HOD/ViewAllStaff.jsx",[],{"ruleId":"47","replacedBy":"48"},{"ruleId":"49","replacedBy":"50"},{"ruleId":"51","severity":1,"message":"52","line":11,"column":9,"nodeType":"53","messageId":"54","endLine":11,"endColumn":13},"no-native-reassign",["55"],"no-negated-in-lhs",["56"],"no-unused-vars","'user' is assigned a value but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation"]